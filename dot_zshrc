# Path to your oh-my-zsh installation.
export ZSH="$HOME/.config/oh-my-zsh"

ZSH_THEME="powerlevel10k/powerlevel10k"

# Would you like to use another custom folder than $ZSH/custom?
# ZSH_CUSTOM=/path/to/new-custom-folder

# Which plugins would you like to load?
# Standard plugins can be found in ~/.oh-my-zsh/plugins/*
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
plugins=(git zsh-syntax-highlighting alias-tips zsh-completions zsh-autosuggestions rust cargo)
autoload -U compinit && compinit

source $ZSH/oh-my-zsh.sh

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"
export ZSH_PLUGINS_ALIAS_TIPS_TEXT="Alias tip: "

# Use vim keys in tab complete menu:
bindkey -M menuselect 'j' vi-backward-char
bindkey -M menuselect 'l' vi-up-line-or-history
bindkey -M menuselect 'Ã©' vi-forward-char
bindkey -M menuselect 'k' vi-down-line-or-history
bindkey -v '^?' backward-delete-char

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
#if [[ -n $SSH_CONNECTION ]]; then
#	export EDITOR='vim'
#	export TERM='xterm-256color'
#else
#	export EDITOR='mvim'
#	export TERM='alacritty'
#fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

alias dt='git --git-dir=$HOME/dev/dotfiles/ --work-tree=$HOME'
alias as='android-studio'
alias ave='source ./venv/bin/activate'
alias mvn='mvn -gs "$XDG_CONFIG_HOME"/maven/settings.xml'
alias wget='wget --hsts-file="$XDG_CACHE_HOME/wget-hsts"'

# VIM mode
bindkey -v
export KEYTIMEOUT=1

### EDITORS
VISUAL=nvim
EDITOR=nvim

export VISUAL
export EDITOR

### cleanup home directory
export XDG_CACHE_HOME=$HOME/.cache
export XDG_CONFIG_HOME=$HOME/.config
export XDG_DATA_HOME=$HOME/.local/share

# ccache
export CCACHE_CONFIGPATH="$XDG_CONFIG_HOME"/ccache.config
export CCACHE_DIR="$XDG_CACHE_HOME"/ccache

# CUDA (NVIDIA's parallel computing architecture and framework)
export CUDA_CACHE_PATH="$XDG_CACHE_HOME"/nv

# GnuPG
export GNUPGHOME="$XDG_DATA_HOME"/gnupg

# GTK
export GTK2_RC_FILES="$XDG_CONFIG_HOME"/gtk-2.0/gtkrc

# Java
export _JAVA_OPTIONS=-Djava.util.prefs.userRoot="$XDG_CONFIG_HOME"/java

# KDE
export KDEHOME="$XDG_CONFIG_HOME"/kde

# MySQL/MariaDB
export MYSQL_HISTFILE="$XDG_DATA_HOME"/mysql_history

# Rust
export CARGO_HOME=$XDG_DATA_HOME/cargo
export RUSTUP_HOME="$XDG_DATA_HOME"/rustup

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ -f "$XDG_CONFIG_HOME"/p10k.zsh ]] && source "$XDG_CONFIG_HOME"/p10k.zsh

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

PATH=$HOME/dev/mess-cleaner:$PATH
# Rust environment
PATH=$XDG_DATA_HOME/cargo/bin:$PATH

# Composer
PATH=$HOME/.config/composer/vendor/bin:$PATH

# Python virtualenv
PATH=$HOME/.local/bin:$PATH

# GitAhead
PATH=$HOME/dev/GitAhead:$PATH

export PATH


### Functions
getspec() {
	rpm2cpio $1 | cpio -civ '*.spec'
}
